(this["webpackJsonphero-analyzer"]=this["webpackJsonphero-analyzer"]||[]).push([[0],{149:function(e,n,t){},194:function(e,n){},220:function(e,n,t){},227:function(e,n,t){},228:function(e,n,t){},229:function(e,n,t){},231:function(e,n,t){"use strict";t.r(n);var a,s=t(1),r=t.n(s),i=t(42),o=t.n(i),c=(t(149),t(22)),l=t(72),u=t(15),d=t(4),m=t.n(d),j=t(47),h=t(97),b=function(){var e=Object(l.a)(m.a.mark((function e(){var n,t,s,r,i,o,c,l,u,d=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>0&&void 0!==d[0]?d[0]:"sale",t=d.length>1&&void 0!==d[1]?d[1]:50,s=d.length>2&&void 0!==d[2]?d[2]:0,r="https://defi-kingdoms-community-api-gateway-co06z8vi.uc.gateway.dev/graphql",i={headers:{"Content-Type":"application/json"}},o=new h.GraphQLClient(r,i),c="sale"===n?"saleAuctions":"assistingAuctions",l=Object(h.gql)(a||(a=Object(j.a)(["\n\t{\n    auctions: ","(\n      orderBy: startedAt\n      orderDirection: desc\n      first: ","\n      skip: ","\n      where:{\n        open: true\n      }\n    )\n    {\n      id\n      startingPrice\n      endingPrice\n      open\n      tokenId{\n        id\n        numberId\n      }\n    }\n  }"])),c,t,s),e.next=10,o.request(l);case 10:return u=e.sent,e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=b,g=t(53),O=t(93),f=[.75,.1875,.046875,.015625],p={basic:.25,advanced:.25,elite:.125,exalted:.125},x=[{classes:["warrior","knight"],mutation:"paladin"},{classes:["thief","archer"],mutation:"darkKnight"},{classes:["priest","wizard"],mutation:"summoner"},{classes:["monk","pirate"],mutation:"ninja"},{classes:["paladin","darkKnight"],mutation:"dragoon"},{classes:["summoner","ninja"],mutation:"sage"},{classes:["dragoon","sage"],mutation:"dreadKnight"}],S=function(e){return e.map((function(e,n){return{name:e,value:f[n]}}))},N=function(e){return e.reduce((function(e,n,t){var a=e.find((function(e){return e.name===n.name}));return a?(a.value+=n.value,e):[].concat(Object(c.a)(e),[n])}),[])},y=function(e,n){var t=C(e.name,n.name);if(t){var a=p[Object(O.getHeroTier)(e.name)];return{name:t.mutation,value:e.value*n.value*a}}return null},C=function(e,n){return x.find((function(t){return e!==n&&t.classes.includes(e)&&t.classes.includes(n)}))},I=function(e){return e.forEach((function(e){return e.value=e.value/2}))},w=function(e,n){var t={hero1:S(e),hero2:S(n)};return t.mutations=function(e,n){for(var t=[],a=0;a<4;a++){var s=y(e[a],n[a]);s&&(t.push(s),e[a].value-=s.value,n[a].value-=s.value)}return N(t)}(t.hero1,t.hero2),I(t.hero1),I(t.hero2),function(e){return N(e.hero1.concat(e.hero2,e.mutations)).sort((function(e,n){return e.value>n.value?-1:e.value<n.value?1:0}))}(t)},T=function(e,n,t){return w(e.mainClassGenes,n.mainClassGenes).find((function(e){return e.name===t}))},B=t(280),A=t(278),P=t(275),k=t(276),E=t(130),F=t.n(E),G=(t(220),t(5)),H=function(e){var n=e.onHeroChange,t=e.onSubmit,a=Object(s.useState)("warrior"),r=Object(u.a)(a,2),i=r[0],o=r[1],c=Object(s.useState)("sale"),l=Object(u.a)(c,2),d=l[0],m=l[1],j=Object(s.useState)("95734"),h=Object(u.a)(j,2),b=h[0],v=h[1],O=Object.keys(g.CONSTANTS.CLASS_REV).sort().map((function(e){return Object(G.jsx)(A.a,{value:e,children:g.CONSTANTS.CLASS_REV[e]},e)})),f=[Object(G.jsx)(A.a,{value:"sale",children:"sale"},"sale"),Object(G.jsx)(A.a,{value:"rent",children:"rent"},"rent")];return Object(G.jsxs)("div",{className:"SummonsMatchSearchForm",children:["Find me heroes for",Object(G.jsx)(P.a,{label:"Auction Type",name:"auction-type",className:"auction-type-selecter",value:d,variant:"standard",onChange:function(e){var n=e.target;console.log("Selected Auction Type changed"),m(n.value)},children:f}),"who could match with hero",Object(G.jsx)("div",{className:"hero-id-selecter",children:Object(G.jsx)(k.a,{label:"Hero ID",name:"hero-id",value:b,variant:"standard",onChange:function(e){var n=e.target;console.log("Selected Hero Id changed"),v(n.value)},onBlur:function(e){var t=e.target;console.log("Selected Hero Id blur"),n&&n(t.value)}})}),"to summon a",Object(G.jsx)(P.a,{label:"Class to be summoned",name:"summoned-class",className:"summoned-class-selecter",value:i,variant:"standard",onChange:function(e){var n=e.target;console.log("Selected Summon Class changed"),o(n.value)},children:O}),Object(G.jsx)(B.a,{variant:"contained",onClick:function(e){t&&t({auctionType:d,heroId:b,summonClass:i})},children:Object(G.jsx)(F.a,{})})]})},R=t(29),L=function(e){var n=e.children,t=e.className,a=e.title;return Object(G.jsxs)("div",{className:"hero-stat-section ".concat(t),children:[Object(G.jsx)("div",{className:"title",children:a}),Object(G.jsx)("div",{className:"stat-group",children:n})]})};L.defaultProps={className:"hero-stat-section"};var D=L,V=["D","R1","R2","R3"],K=0,M=2,_={mining:"Mining",foraging:"Foraging",gardening:"Gardening",fishing:"Fishing"},z=function(e){var n=e.className,t=e.genes,a=e.heroid,s=e.title,r=e.type;return Object(G.jsxs)("div",{className:"hero-snapshot-genes ".concat(n),children:[Object(G.jsx)("div",{className:"title",children:s}),t.map((function(e,n){var t=r===K?R.CLASS_REV[e]:r===M?_[e]:e;return t||(t=e),Object(G.jsxs)("div",{className:"gene",children:[Object(G.jsxs)("div",{className:"label",children:[V[n],":"]}),Object(G.jsx)("div",{className:"value",children:t})]},"".concat(a,"-").concat(V[n]))}))]})};z.defaultProps={type:0};var q=z,J=function(e){var n=e.name,t=e.value,a=e.main,s=e.minor,r="name".concat(a&&s?" main-minor":a?" main":s?" minor":"");return Object(G.jsxs)("div",{className:"hero-stat",children:[Object(G.jsx)("div",{className:r,children:n}),Object(G.jsx)("div",{className:"value",children:t})]})},W=(t(227),["common","uncommon","rare","legendary","mythic"]),X=function(e){var n=e.hero,t=e.title;return Object(G.jsxs)("div",{className:"hero-snapshot ".concat(W[n.rarity]),children:[Object(G.jsx)("div",{className:"hero-snapshot-title",children:t}),Object(G.jsxs)("div",{className:"hero-snapshot-name",children:[n.name?n.name:"Main Hero"," (#",n.id,")"]}),Object(G.jsxs)("div",{className:"hero-snapshot-grc",children:["Gen",n.generation," | ",R.Rarity[n.rarity]," | ",R.CLASS_REV[n.mainClass],"/",R.CLASS_REV[n.subClass]]}),Object(G.jsxs)("div",{className:"hero-snapshot-owner",children:["Owned by: ",n.ownerName]}),Object(G.jsxs)("div",{className:"hero-snapshot-genes-section",children:[Object(G.jsx)(q,{genes:n.mainClassGenes,heroid:n.id,title:"Class"}),Object(G.jsx)(q,{genes:n.subClassGenes,heroid:n.id,title:"SubClass"}),Object(G.jsx)(q,{genes:n.professionGenes,heroid:n.id,title:"Profession",type:2})]}),Object(G.jsxs)(D,{title:"Stats",children:[Object(G.jsx)(J,{name:"STR",value:n.strength,main:"STR"===n.statBoost1,minor:"STR"===n.statBoost2}),Object(G.jsx)(J,{name:"DEX",value:n.dexterity,main:"DEX"===n.statBoost1,minor:"DEX"===n.statBoost2}),Object(G.jsx)(J,{name:"AGI",value:n.agility,main:"AGI"===n.statBoost1,minor:"AGI"===n.statBoost2}),Object(G.jsx)(J,{name:"VIT",value:n.vitality,main:"VIT"===n.statBoost1,minor:"VIT"===n.statBoost2}),Object(G.jsx)(J,{name:"END",value:n.endurance,main:"END"===n.statBoost1,minor:"END"===n.statBoost2}),Object(G.jsx)(J,{name:"INT",value:n.intelligence,main:"INT"===n.statBoost1,minor:"INT"===n.statBoost2}),Object(G.jsx)(J,{name:"WIS",value:n.wisdom,main:"WIS"===n.statBoost1,minor:"WIS"===n.statBoost2}),Object(G.jsx)(J,{name:"LCK",value:n.luck,main:"LCK"===n.statBoost1,minor:"LCK"===n.statBoost2})]}),Object(G.jsxs)(D,{className:"profession-stat-section",title:"Professions",children:[Object(G.jsx)(J,{name:"Mining",value:n.mining,main:"mining"===n.profession}),Object(G.jsx)(J,{name:"Gardening",value:n.gardening,main:"gardening"===n.profession}),Object(G.jsx)(J,{name:"Fishing",value:n.fishing,main:"fishing"===n.profession}),Object(G.jsx)(J,{name:"Foraging",value:n.foraging,main:"foraging"===n.profession})]})]})},Q=function(e){var n=e.loaded,t=e.heroes,a=function(e){return"".concat((100*e.targetProbability.value).toFixed(2),"% probability")};return Object(G.jsx)(G.Fragment,{children:n&&t.map((function(e){return Object(G.jsx)(X,{hero:e,title:a(e)},e.id)}))})},U=(t(228),["Heading on over to the tavern.","Oh, they have Perch Porter on draft.","Chatting with Agent Selina.  She is such a sweetheart!","a","b","c","d","e","f","g","h","i","j","k","l","m"]),Y=function(){var e=Object(s.useState)(!1),n=Object(u.a)(e,2),t=n[0],a=n[1],r=Object(s.useState)(!1),i=Object(u.a)(r,2),o=i[0],d=i[1],j=Object(s.useState)(""),h=Object(u.a)(j,2),b=h[0],O=h[1],f=Object(s.useState)(10),p=Object(u.a)(f,1)[0],x=Object(s.useState)(),S=Object(u.a)(x,2),N=S[0],y=S[1],C=Object(s.useState)([]),I=Object(u.a)(C,2),w=I[0],B=I[1],A=function(){var e=Object(l.a)(m.a.mark((function e(n){var t,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(JSON.stringify(n)),B([]),d(!0),O(U[0]),e.next=6,v(n.auctionType,p);case 6:t=e.sent,s=[Number(n.heroId)].concat(Object(c.a)(t.auctions.map((function(e){return e.tokenId.numberId})))),Object(g.getHeroesChain)(s).then((function(e){for(var t=e[0],s=10,r=0,i=1;i<e.length;i++){var o=e[i];o.targetProbability=T(t,o,n.summonClass),i>s&&(O(U[r++]),s+=10,r>=U.length&&(r=0))}var c=e.filter((function(e){return e.targetProbability})).sort((function(e,n){return e.targetProbability.value>n.targetProbability.value?-1:e.targetProbability.value<n.targetProbability.value?1:0}));y(t),B(c.slice(1)),d(!1),a(!0)}));case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(H,{onHeroChange:function(e){console.log("New Hero Selected: ".concat(e)),e&&(y(),Object(g.getHeroesChain)([e]).then((function(e){y(e[0])})))},onSubmit:A}),Object(G.jsxs)("div",{className:"hero-list",children:[N&&Object(G.jsx)("div",{className:"main-hero",children:Object(G.jsx)(X,{hero:N,title:"Main Hero"})}),t&&!o&&Object(G.jsx)(Q,{loaded:t,heroes:w}),o&&Object(G.jsx)("div",{children:b})]})]})},Z=Y;t(229);var $=function(){return Object(G.jsx)("div",{className:"App",children:Object(G.jsx)("header",{className:"App-header",children:Object(G.jsx)(Z,{})})})},ee=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,284)).then((function(n){var t=n.getCLS,a=n.getFID,s=n.getFCP,r=n.getLCP,i=n.getTTFB;t(e),a(e),s(e),r(e),i(e)}))};o.a.render(Object(G.jsx)(r.a.StrictMode,{children:Object(G.jsx)($,{})}),document.getElementById("root")),ee()}},[[231,1,2]]]);
//# sourceMappingURL=main.3c1f6082.chunk.js.map