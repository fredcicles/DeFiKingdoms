(this["webpackJsonphero-analyzer"]=this["webpackJsonphero-analyzer"]||[]).push([[0],{153:function(e,n,t){},193:function(e,n){},223:function(e,n,t){},224:function(e,n,t){},228:function(e,n,t){},231:function(e,n,t){},232:function(e,n,t){},234:function(e,n,t){"use strict";t.r(n);var a,s=t(1),r=t.n(s),i=t(43),c=t.n(i),o=(t(153),t(55)),l=t(12),u=t(5),m=t.n(u),j=t(72),d=t(35),b=t(44),h=t(69),v="https://defi-kingdoms-community-api-gateway-co06z8vi.uc.gateway.dev/graphql",f=function(){var e=Object(o.a)(m.a.mark((function e(){var n,t,s,r,i,c,o,l,u,j,d,f=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.length>0&&void 0!==f[0]?f[0]:"sale",t=f.length>1&&void 0!==f[1]?f[1]:[],s=f.length>2&&void 0!==f[2]?f[2]:"",r=f.length>3&&void 0!==f[3]?f[3]:50,i=f.length>4&&void 0!==f[4]?f[4]:0,console.log("Retrieving hero listings ".concat(i+1," - ").concat(i+r," from the Tavern")),c={headers:{"Content-Type":"application/json"}},o=new h.GraphQLClient(v,c),l="".concat(n,"Price_not: null"),t.length&&(l="".concat(l,"\n    mainClass_in: [").concat(t.map((function(e){return'"'.concat(e,'"')})),"]")),s&&(l="".concat(l,'\n    profession: "').concat(s,'"')),u="price: ".concat(n,"Price"),j=Object(h.gql)(a||(a=Object(b.a)(["\n\t{\n    heroes(\n      first: ","\n      skip: ","\n      where:{\n        ","\n      }\n    )\n    {\n      id\n      owner{\n        name\n      }\n      firstName\n      lastName\n      rarity\n      gender\n      generation\n      mainClass\n      subClass\n      level\n      profession\n      fishing\n      foraging\n      gardening\n      mining\n  \n      stamina\n  \n      summonsRemaining\n      maxSummons\n      summons\n      \n      active1\n      active2\n      passive1\n      passive2\n      statBoost1\n      statBoost2\n      statsUnknown1\n      statsUnknown2\n      element\n  \n      strength\n      agility\n      endurance\n      wisdom\n      dexterity\n      vitality\n      intelligence\n      luck\n\n      ","\n      status\n      hpFullAt\n      mpFullAt\n      statGenesRaw: statGenes\n    }\n  }"])),r,i,l,u),e.next=15,o.request(j);case 15:return d=e.sent,console.log("".concat(d.heroes.length," hero listings retrieved from the Tavern")),e.abrupt("return",d);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=t(21),O=t(98),x=[{classes:["warrior","knight"],mutation:"paladin"},{classes:["thief","archer"],mutation:"darkKnight"},{classes:["priest","wizard"],mutation:"summoner"},{classes:["monk","pirate"],mutation:"ninja"},{classes:["paladin","darkKnight"],mutation:"dragoon"},{classes:["summoner","ninja"],mutation:"sage"},{classes:["dragoon","sage"],mutation:"dreadKnight"}],p=function(e){return"".concat(e[0].toUpperCase()).concat(e.slice(1))},N=[.75,.1875,.046875,.015625],S={basic:.25,advanced:.25,elite:.125,exalted:.125},C=function(e){return e.map((function(e,n){return{name:e,value:N[n]}}))},w=function(e){return e.reduce((function(e,n,t){var a=e.find((function(e){return e.name===n.name}));return a?(a.value+=n.value,e):[].concat(Object(g.a)(e),[n])}),[])},y=function(e,n){var t=T(e.name,n.name);if(t){var a=S[Object(O.getHeroTier)(e.name)];return{name:t.mutation,value:e.value*n.value*a}}return null},T=function(e,n){return x.find((function(t){return e!==n&&t.classes.includes(e)&&t.classes.includes(n)}))},A=function(e){return e.forEach((function(e){return e.value=e.value/2}))},P=function(e,n){var t={hero1:C(e),hero2:C(n)};return t.mutations=function(e,n){for(var t=[],a=0;a<4;a++){var s=y(e[a],n[a]);s&&(t.push(s),e[a].value-=s.value,n[a].value-=s.value)}return w(t)}(t.hero1,t.hero2),A(t.hero1),A(t.hero2),function(e){return w(e.hero1.concat(e.hero2,e.mutations)).sort((function(e,n){return e.value>n.value?-1:e.value<n.value?1:0}))}(t)},k=function(e,n,t){return P(e,n).find((function(e){return e.name.toLowerCase()===t.toLowerCase()}))},R=function(e,n){var t=[n];if(e.toLowerCase()===n.toLowerCase())return t;var a=x.find((function(e){return e.mutation.toLowerCase()===n.toLowerCase()}));if(a){var s=a.classes.find((function(n){return n===e})),r=a.classes.find((function(n){return n!==e}));s&&t.push(p(r))}return t},B=function(e){return x.find((function(n){return n.classes.includes(e)})).mutation},L=t(30),E=["D","R1","R2","R3"],F=0,I=2,G=t(2),V={mining:"Mining",foraging:"Foraging",gardening:"Gardening",fishing:"Fishing"},_=function(e){var n=e.className,t=e.genes,a=e.heroid,s=e.title,r=e.type;return Object(G.jsxs)("div",{className:"hero-snapshot-genes ".concat(n),children:[Object(G.jsx)("div",{className:"title",children:s}),t.map((function(e,n){var t=r===F?L.CLASS_REV[e]:r===I?V[e]:e;return t||(t=e),Object(G.jsxs)("div",{className:"gene",children:[Object(G.jsxs)("div",{className:"label",children:[E[n],":"]}),Object(G.jsx)("div",{className:"value",children:t})]},"".concat(a,"-").concat(E[n]))}))]})};_.defaultProps={type:0};var H=_,U=function(e){var n=e.boldIfNot,t=e.value,a="value";return n&&!t.toString().toLowerCase().includes(n)&&(a+=" notBasic"),Object(G.jsx)("div",{className:"gene",children:Object(G.jsx)("div",{className:a,children:t})})},D=function(e){var n=e.className,t=e.genes,a=t.statsUnknown1?t.statsUnknown1:t.statGenes.statsUnknown1,s=t.statsUnknown2?t.statsUnknown2:t.statGenes.statsUnknown2,r=t.element?t.element:t.statGenes.element;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)("div",{className:"hero-snapshot-genes ".concat(n),children:[Object(G.jsx)("div",{className:"title",children:"Active"}),Object(G.jsx)(U,{value:t.active1,boldIfNot:"basic"}),Object(G.jsx)(U,{value:t.active2,boldIfNot:"basic"})]}),Object(G.jsxs)("div",{className:"hero-snapshot-genes ".concat(n),children:[Object(G.jsx)("div",{className:"title",children:"Passive"}),Object(G.jsx)(U,{value:t.passive1,boldIfNot:"basic"}),Object(G.jsx)(U,{value:t.passive2,boldIfNot:"basic"})]}),Object(G.jsxs)("div",{className:"hero-snapshot-genes ".concat(n),children:[Object(G.jsx)("div",{className:"title",children:"Unknown"}),Object(G.jsx)(U,{value:a}),Object(G.jsx)(U,{value:s})]}),Object(G.jsxs)("div",{className:"hero-snapshot-genes ".concat(n),children:[Object(G.jsx)("div",{className:"title",children:"Element"}),Object(G.jsx)(U,{value:r})]})]})};D.defaultProps={};var M=D,K=function(e){var n=e.hero;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)("div",{className:"hero-snapshot-genes-section",children:[Object(G.jsx)(H,{genes:n.mainClassGenes,heroid:n.id,title:"Class"}),Object(G.jsx)(H,{genes:n.subClassGenes,heroid:n.id,title:"SubClass"}),Object(G.jsx)(H,{genes:n.professionGenes,heroid:n.id,title:"Profession",type:2})]}),Object(G.jsx)("div",{className:"hero-snapshot-genes-section",children:Object(G.jsx)(M,{genes:n,heroid:n.id})})]})},z=function(e){var n=e.children,t=e.className,a=e.title;return Object(G.jsxs)("div",{className:"hero-stat-section ".concat(t),children:[Object(G.jsx)("div",{className:"title",children:a}),Object(G.jsx)("div",{className:"stat-group",children:n})]})};z.defaultProps={className:"hero-stat-section"};var W=z,q=function(e){var n=e.name,t=e.value,a=e.main,s=e.minor,r="name".concat(a&&s?" main-minor":a?" main":s?" minor":"");return Object(G.jsxs)("div",{className:"hero-stat",children:[Object(G.jsx)("div",{className:r,children:n}),Object(G.jsx)("div",{className:"value",children:t})]})},J=function(e){var n=e.hero;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)(W,{title:"Stats",children:[Object(G.jsx)(q,{name:"STR",value:n.strength,main:"STR"===n.statBoost1,minor:"STR"===n.statBoost2}),Object(G.jsx)(q,{name:"AGI",value:n.agility,main:"AGI"===n.statBoost1,minor:"AGI"===n.statBoost2}),Object(G.jsx)(q,{name:"END",value:n.endurance,main:"END"===n.statBoost1,minor:"END"===n.statBoost2}),Object(G.jsx)(q,{name:"WIS",value:n.wisdom,main:"WIS"===n.statBoost1,minor:"WIS"===n.statBoost2}),Object(G.jsx)(q,{name:"DEX",value:n.dexterity,main:"DEX"===n.statBoost1,minor:"DEX"===n.statBoost2}),Object(G.jsx)(q,{name:"VIT",value:n.vitality,main:"VIT"===n.statBoost1,minor:"VIT"===n.statBoost2}),Object(G.jsx)(q,{name:"INT",value:n.intelligence,main:"INT"===n.statBoost1,minor:"INT"===n.statBoost2}),Object(G.jsx)(q,{name:"LCK",value:n.luck,main:"LCK"===n.statBoost1,minor:"LCK"===n.statBoost2})]}),Object(G.jsxs)(W,{className:"profession-stat-section",title:"Professions",children:[Object(G.jsx)(q,{name:"Mining",value:n.mining,main:"mining"===n.profession}),Object(G.jsx)(q,{name:"Fishing",value:n.fishing,main:"fishing"===n.profession}),Object(G.jsx)(q,{name:"Gardening",value:n.gardening,main:"gardening"===n.profession}),Object(G.jsx)(q,{name:"Foraging",value:n.foraging,main:"foraging"===n.profession})]})]})},X=(t(223),["common","uncommon","rare","legendary","mythic"]),Q=function(e){var n,t=e.hero,a=e.title,s=e.view,r="".concat(t.name?t.name:"Main Hero"," (#").concat(t.id,") ").concat(t.price?"- J ".concat((n=t.price,Number(n)/1e18)):""),i="Gen".concat(t.generation," | ").concat(L.Rarity[t.rarity]," | Level ").concat(t.level),c="".concat(p(t.mainClass)," / ").concat(p(t.subClass)," | ").concat(p(t.profession));return Object(G.jsxs)("div",{className:"hero-snapshot ".concat(X[t.rarity]),children:[Object(G.jsx)("div",{className:"hero-snapshot-title",children:a}),Object(G.jsx)("div",{className:"hero-snapshot-name",children:r}),Object(G.jsx)("div",{className:"hero-snapshot-grc",children:i}),Object(G.jsx)("div",{className:"hero-snapshot-grc",children:c}),Object(G.jsxs)("div",{className:"hero-snapshot-owner",children:["Owned by: ",t.owner?t.owner.name:t.ownerName]}),Object(G.jsxs)("div",{className:"hero-snapshot-summons",children:["Summons: ",t.summons?t.summons:t.summonsRemaining,"/",t.maxSummons]}),"front"===s&&Object(G.jsx)(J,{hero:t}),"back"===s&&Object(G.jsx)(K,{hero:t})]})};Q.defaultProps={view:"front"};var Y=Q,Z=Y,$=t(281),ee=t(278),ne=t(282),te=t(279),ae=(t(224),function(e){var n=e.onFiltersChange,t=e.onSortByChange,a=e.onViewToggled,r=e.visible,i=Object(s.useState)("probability"),c=Object(l.a)(i,2),o=c[0],u=c[1],m=Object(s.useState)(""),j=Object(l.a)(m,2),d=j[0],b=j[1],h=Object(s.useState)(""),v=Object(l.a)(h,2),f=v[0],g=v[1],O=function(e){var t=e.target,a=d,s=f;"summonsRemaining"===t.name&&(a=t.value,b(a)),"maxSummons"===t.name&&(s=t.value,g(s)),n({summonsRemaining:a,maxSummons:s})};return r?Object(G.jsxs)("div",{className:"sort-filter",children:[Object(G.jsxs)("div",{className:"section",children:[Object(G.jsx)(ne.a,{defaultChecked:!0,onChange:function(e){a(e.target.checked)}}),"Flip Cards"]}),Object(G.jsxs)("div",{className:"section",children:[Object(G.jsx)("div",{className:"sort-label",children:"Sort By:"}),Object(G.jsx)("div",{className:"sort-value",children:Object(G.jsxs)(ee.a,{label:"Sort by",name:"sort-by",className:"sort-by-selecter",value:o,variant:"standard",onChange:function(e){var n=e.target;u(n.value),t(n.value)},children:[Object(G.jsx)($.a,{value:"probability",children:"Probability"},"probability"),Object(G.jsx)($.a,{value:"price",children:"Price"},"price")]})})]}),Object(G.jsxs)("div",{className:"section",children:[Object(G.jsx)("div",{className:"filter-label",children:"Filters:"}),Object(G.jsxs)("div",{className:"filter-selections",children:["Summons",Object(G.jsxs)("div",{className:"filter-selecters",children:[Object(G.jsxs)("div",{className:"filter-selecter",children:["Remaining",Object(G.jsx)(te.a,{name:"summonsRemaining",value:d,variant:"standard",onChange:O,type:"number"})]}),Object(G.jsxs)("div",{className:"filter-selecter",children:["Max",Object(G.jsx)(te.a,{name:"maxSummons",value:f,variant:"standard",onChange:O,type:"number"})]})]})]})]})]}):null});ae.defaultProps={onFiltersChange:function(){},onSortByChange:function(){},onViewToggled:function(){},visible:!1};var se=ae,re=t(56),ie=t(284),ce=t(286),oe=t(134),le=t.n(oe),ue=(t(228),function(e){return e.map((function(e){var n="string"===typeof e?e:e.label,t="string"===typeof e?e:e.value;return Object(G.jsx)($.a,{value:t,children:n},t)}))}),me=ue([{label:"sale",value:"sale"},{label:"rent",value:"assisting"}]),je=ue([{label:"any profession",value:"all"}].concat(Object(g.a)(L.PROFESSIONS_AR))),de=function(e){var n=e.defaultSummonClass,t=e.isHeroLoaded,a=e.onHeroChange,r=e.onSubmit,i=(e.onToggle,Object(s.useState)("")),c=Object(l.a)(i,2),o=c[0],u=c[1],m=Object(s.useState)("all"),j=Object(l.a)(m,2),b=j[0],h=j[1],v=Object(s.useState)("assisting"),f=Object(l.a)(v,2),O=f[0],x=f[1],N=Object(s.useState)(""),S=Object(l.a)(N,2),C=S[0],w=S[1],y=Object(s.useState)([]),T=Object(l.a)(y,2),A=T[0],P=T[1];Object(s.useEffect)((function(){var e=re.basicClasses.sort().map((function(e){return Object(G.jsx)($.a,{value:d.CONSTANTS.CLASS_REV[e],children:d.CONSTANTS.CLASS_REV[e]},e)})),n=re.advancedClasses.sort().map((function(e){return Object(G.jsx)($.a,{value:d.CONSTANTS.CLASS_REV[e],children:d.CONSTANTS.CLASS_REV[e]},e)})),t=re.eliteClasses.sort().map((function(e){return Object(G.jsx)($.a,{value:d.CONSTANTS.CLASS_REV[e],children:d.CONSTANTS.CLASS_REV[e]},e)})),a=re.exaltedClasses.sort().map((function(e){return Object(G.jsx)($.a,{value:d.CONSTANTS.CLASS_REV[e],children:d.CONSTANTS.CLASS_REV[e]},e)})),s=[Object(G.jsx)(ce.a,{children:"Basic Classes"},"basic")].concat(Object(g.a)(e),[Object(G.jsx)(ce.a,{children:"Advanced Classes"},"advanced")],Object(g.a)(n),[Object(G.jsx)(ce.a,{children:"Elite Classes"},"elite")],Object(g.a)(t),[Object(G.jsx)(ce.a,{children:"Exalted Classes"},"exalted")],Object(g.a)(a));P(s)}),[]),Object(s.useEffect)((function(){n&&u(p(n))}),[n]);var k=t&&o;return Object(G.jsxs)("div",{className:"search-form-simple",children:["Find me heroes for",Object(G.jsx)(ee.a,{label:"Auction Type",name:"auction-type",className:"auction-type-selecter",value:O,variant:"standard",onChange:function(e){var n=e.target;x(n.value)},children:me}),"who could match with hero #",Object(G.jsx)("div",{className:"hero-id-selecter",children:Object(G.jsx)(te.a,{placeholder:"hero id",name:"hero-id",value:C,variant:"standard",onChange:function(e){var n=e.target;w(n.value)},onBlur:function(e){var n=e.target;a&&a(n.value)}})}),"to summon a",Object(G.jsx)(ee.a,{label:"Class to be summoned",name:"summoned-class",className:"summoned-class-selecter",value:o,variant:"standard",onChange:function(e){var n=e.target;u(n.value)},children:A}),"for",Object(G.jsx)(ee.a,{label:"Profession to be summoned",name:"summoned-profession",className:"summoned-profession-selecter",value:b,variant:"standard",onChange:function(e){var n=e.target;h(n.value)},children:je}),Object(G.jsx)(ie.a,{variant:"contained",onClick:function(){r&&r({auctionType:O,heroId:C,summonClass:o,summonProfession:"all"===b?"":b})},disabled:!k,children:Object(G.jsx)(le.a,{})})]})};de.defaultProps={defaultSummonClass:"",isHeroLoaded:!1,onToggle:function(){}};var be=de,he=function(e){var n=e.heroes,t=e.view,a=function(e){return"".concat((100*e.targetProbability).toFixed(2),"% probability")};return n.length?n.map((function(e){return Object(G.jsx)(Y,{hero:e,title:a(e),view:t},e.id)})):null},ve=(t(231),["Now there is an interesting fellow.","Oh, the Tavern has Perch Porter on draft.","Chatting with Agent Selina.  She is such a sweetheart!","Are those wings on her back, or she just harpy to see me?","Woah, big guy!  Careful with those horns!"]),fe=function(e){var n=e.hero,t=e.view;return n?Object(G.jsx)("div",{className:"main-hero",children:Object(G.jsx)(Z,{hero:n,title:"Main Hero",view:t})}):null},ge=function(e){var n=e.heroCount,t=e.loaded,a=e.loading,s=e.message,r=a?s:t&&!n?"No Heroes Found":null;return Object(G.jsx)("div",{className:"loading-message",children:r})},Oe=function(){var e=Object(s.useState)(!1),n=Object(l.a)(e,2),t=n[0],a=n[1],r=Object(s.useState)(!1),i=Object(l.a)(r,2),c=i[0],u=i[1],b=Object(s.useState)(""),h=Object(l.a)(b,2),v=h[0],g=h[1],O=Object(s.useState)("simple"),x=Object(l.a)(O,2),p=x[0],N=x[1],S=Object(s.useState)("probability"),C=Object(l.a)(S,2),w=C[0],y=C[1],T=Object(s.useState)({}),A=Object(l.a)(T,2),P=A[0],L=A[1],E=Object(s.useState)(""),F=Object(l.a)(E,2),I=F[0],V=F[1],_=Object(s.useState)(),H=Object(l.a)(_,2),U=H[0],D=H[1],M=Object(s.useState)([]),K=Object(l.a)(M,2),z=K[0],W=K[1],q=Object(s.useState)("front"),J=Object(l.a)(q,2),X=J[0],Q=J[1],Y=function(e){return new Promise((function(n){return setTimeout(n,e)}))},Z=function(){var e=Math.floor(Math.random()*ve.length);g(ve[e])},$=function(){var e=Object(o.a)(m.a.mark((function e(n){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=8;break}return W([]),D(),e.next=5,Object(d.getHeroesChain)([n]);case 5:t=e.sent,D(t[0]),V(B(t[0].mainClass));case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ee=function(){var e=Object(o.a)(m.a.mark((function e(n){var t,s,r,i,c,o,l,d,b,h,v,g;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W([]),a(!0),Z(),t=[],s=50,r=0,i=!1;case 7:if(i){e.next=28;break}return c=R(U.mainClass,n.summonClass),e.next=11,f(n.auctionType,c,n.summonProfession,s,r);case 11:for(o=e.sent,l=Object(j.decodeRecessiveGenesAndNormalize)(o.heroes),d=0;d<l.length;d++)b=l[d],h=k(U.mainClassGenes,b.mainClassGenes,n.summonClass),n.summonProfession?(v=k(U.professionGenes,b.professionGenes,n.summonProfession),b.targetProbability=h&&v?h.value*v.value:0):b.targetProbability=h?h.value:0;return g=l.filter((function(e){return e.targetProbability>0})),console.log("".concat(t.length," existing heroes")),console.log("adding ".concat(g.length," new heroes")),t=t.concat(g).sort((function(e,n){return e.targetProbability>n.targetProbability?-1:e.targetProbability<n.targetProbability?1:0})),console.log("now ".concat(t.length," total heroes")),W(t),Z(),r+=s,i=0===o.length,e.next=25,Y(1e3);case 25:i=r>200,e.next=7;break;case 28:a(!1),u(!0);case 30:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ne="probability"===w?z:z.sort((function(e,n){if("price"===w){var t=Number(e.price),a=Number(n.price);return t>a?1:t<a?-1:0}return 0}));return(P.summonsRemaining||P.maxSummons)&&(ne=ne.filter((function(e){var n=!P.summonsRemaining||Number(e.summonsRemaining)>=Number(P.summonsRemaining);return(!P.maxSummons||Number(e.maxSummons)>=Number(P.maxSummons))&&n}))),Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(be,{defaultSummonClass:I,isHeroLoaded:!!U,onHeroChange:$,onToggle:function(){N("simple"===p?"advanced":"simple")},onSubmit:ee}),Object(G.jsx)(se,{onFiltersChange:function(e){L(e)},onSortByChange:function(e){y(e)},onViewToggled:function(e){Q(e?"front":"back")},visible:z.length>0}),Object(G.jsx)(ge,{heroCount:z.length,loading:t,loaded:c,message:v}),Object(G.jsxs)("div",{className:"hero-list",children:[Object(G.jsx)(fe,{hero:U,view:X}),Object(G.jsx)(he,{heroes:ne,view:X})]})]})},xe=Oe;t(232);var pe=function(){return Object(G.jsxs)("div",{className:"App",children:[Object(G.jsx)("header",{className:"App-header"}),Object(G.jsx)("main",{className:"App-main",children:Object(G.jsx)(xe,{})})]})},Ne=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,289)).then((function(n){var t=n.getCLS,a=n.getFID,s=n.getFCP,r=n.getLCP,i=n.getTTFB;t(e),a(e),s(e),r(e),i(e)}))};c.a.render(Object(G.jsx)(r.a.StrictMode,{children:Object(G.jsx)(pe,{})}),document.getElementById("root")),Ne()}},[[234,1,2]]]);
//# sourceMappingURL=main.00e8e089.chunk.js.map