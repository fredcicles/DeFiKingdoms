(this["webpackJsonpdfk-summoner"]=this["webpackJsonpdfk-summoner"]||[]).push([[0],{142:function(e,t,n){},248:function(e,t,n){},249:function(e,t,n){},253:function(e,t,n){},256:function(e,t,n){},257:function(e,t,n){},258:function(e,t,n){"use strict";n.r(t);var a,s,r=n(1),i=n.n(r),c=n(35),o=n.n(c),l=(n(142),n(24)),u=n(30),m=n(7),j=n(123),d=n.n(j),b=n(67),h=n(32),g=n(46),v=function(e){return"".concat(e[0].toUpperCase()).concat(e.slice(1))},f=function(e){return"".concat(e[0].toLowerCase()).concat(e.slice(1))},O={id:"SER",name:"Serendale"},x={id:"CRY",name:"Crystalvale"},p={id:"hmy",name:"Harmony"},C={id:"dfk",name:"DFK Chain"},N="https://defi-kingdoms-community-api-gateway-co06z8vi.uc.gateway.dev/graphql",w=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var t,n,s,r,i,c,o,u,m,j,d,b,f=arguments;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:"sale",n=f.length>1&&void 0!==f[1]?f[1]:p.id,s=f.length>2&&void 0!==f[2]?f[2]:[],r=f.length>3&&void 0!==f[3]?f[3]:"",i=f.length>4&&void 0!==f[4]?f[4]:50,c=f.length>5&&void 0!==f[5]?f[5]:0,console.log("Retrieving hero listings ".concat(c+1," - ").concat(c+i," from the Tavern")),o={headers:{"Content-Type":"application/json"}},u=new g.GraphQLClient(N,o),m="".concat(t,'Price_not: null\n                network: "').concat(n,'"'),s.length&&(m="".concat(m,"\n    mainClass_in: [").concat(s.map((function(e){return'"'.concat(v(e),'"')})),"]")),r&&(m="".concat(m,'\n    profession: "').concat(r,'"')),j="price: ".concat(t,"Price"),d=Object(g.gql)(a||(a=Object(h.a)(["\n\t{\n    heroes(\n      first: ","\n      skip: ","\n      where:{\n        ","\n      }\n    )\n    {\n      id\n      owner{\n        name\n      }\n      originRealm\n      network\n      firstName\n      lastName\n      rarity\n      gender\n      generation\n      mainClass\n      subClass\n      level\n      profession\n      fishing\n      foraging\n      gardening\n      mining\n  \n      stamina\n  \n      summonsRemaining\n      maxSummons\n      summons\n      \n      active1\n      active2\n      passive1\n      passive2\n      statBoost1\n      statBoost2\n      statsUnknown1\n      statsUnknown2\n      element\n  \n      strength\n      agility\n      endurance\n      wisdom\n      dexterity\n      vitality\n      intelligence\n      luck\n\n      ","\n      status\n      hpFullAt\n      mpFullAt\n      statGenesRaw: statGenes\n    }\n  }"])),i,c,m,j),e.next=16,u.request(d);case 16:return b=e.sent,console.log("".concat(b.heroes.length," hero listings retrieved from the Tavern")),e.abrupt("return",b);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=[{generation:0,baseCost:6,increment:2,maxCost:30},{generation:1,baseCost:16,increment:2,maxCost:34},{generation:2,baseCost:26,increment:2,maxCost:42},{generation:3,baseCost:36,increment:2,maxCost:50},{generation:4,baseCost:46,increment:2,maxCost:58},{generation:5,baseCost:56,increment:2,maxCost:66},{generation:6,baseCost:66,increment:2,maxCost:74},{generation:7,baseCost:76,increment:2,maxCost:82},{generation:8,baseCost:86,increment:2,maxCost:90},{generation:9,baseCost:96,increment:2,maxCost:98},{generation:10,baseCost:106,increment:2,maxCost:106}],S=function(e){var t=e.generation,n=e.summons,a=e.maxSummons;if(t<0||t>10)return"?";var s=y[t];return n>=a?s.maxCost:s.baseCost+n*s.increment},k=n(14),G=n(124),P=[{classes:["warrior","knight"],mutation:"paladin"},{classes:["thief","archer"],mutation:"darkKnight"},{classes:["priest","wizard"],mutation:"summoner"},{classes:["monk","pirate"],mutation:"ninja"},{classes:["seer","berserker"],mutation:"shapeshifter"},{classes:["paladin","darkKnight"],mutation:"dragoon"},{classes:["summoner","ninja"],mutation:"sage"},{classes:["dragoon","sage"],mutation:"dreadKnight"}],T=[.75,.1875,.046875,.015625],B={basic:.25,advanced:.25,elite:.125,exalted:.125},R=function(e){return I(e.map((function(e,t){return{name:e,value:T[t]}})))},I=function(e){return e.reduce((function(e,t,n){var a=e.find((function(e){return e.name===t.name}));return a?(a.value+=t.value,e):[].concat(Object(k.a)(e),[t])}),[])},F=function(e,t){var n=M(e.name,t.name);if(n){var a=B[Object(G.getHeroTier)(e.name)];return{name:n.mutation,value:e.value*t.value*a}}return null},M=function(e,t){return P.find((function(n){return e!==t&&n.classes.includes(e)&&n.classes.includes(t)}))},A=function(e){return e.forEach((function(e){return e.value=e.value/2}))},L=function(e,t){var n={hero1:R(e),hero2:R(t)};return n.mutations=function(e,t){for(var n=[],a=0;a<e.length;a++)for(var s=0;s<t.length;s++){var r=F(e[a],t[s]);if(r){n.push(r),e[a].value-=r.value,t[s].value-=r.value;break}}return n}(n.hero1,n.hero2),A(n.hero1),A(n.hero2),function(e){return I(e.hero1.concat(e.hero2,e.mutations)).sort((function(e,t){return e.value>t.value?-1:e.value<t.value?1:0}))}(n)},E=function(e,t,n){return L(e,t).find((function(e){return e.name.toLowerCase()===n.toLowerCase()}))},K=function(e,t,n){var a=[t];if(e===t)return a;var s=P.find((function(e){return e.mutation===t}));if(s){var r=s.classes.find((function(t){return t===e})),i=s.classes.find((function(t){return t!==e}));r&&a.push(i)}return a},D=function(e){return P.find((function(t){return t.classes.includes(e)})).mutation},H=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n,a,r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://defi-kingdoms-community-api-gateway-co06z8vi.uc.gateway.dev/graphql",n=new g.GraphQLClient("https://defi-kingdoms-community-api-gateway-co06z8vi.uc.gateway.dev/graphql",{headers:{"Content-Type":"application/json"}}),a=Object(g.gql)(s||(s=Object(h.a)(["\n\t{\n\t\theroes( \n\t\t\torderBy: numberId\n\t\t\torderDirection: asc\n\t\t\twhere: \n\t\t\t{\n\t\t\t\tid: ","\n\t\t   \t}\n\t\t)\n\t\t{\n\t\t\tid\n\t\t\towner{\n\t\t\t  name\n\t\t\t}\n\n\t\t\tfirstName\n\t\t\tlastName\n\t\t\toriginRealm\n\t\t\tnetwork\n\t\t\trarity\n\t\t\tgender\n\t\t\tgeneration\n\t\t\tmainClass\n\t\t\tsubClass\n\t\t\tlevel\n\t\t\tprofession\n\t\t\tfishing\n\t\t\tforaging\n\t\t\tgardening\n\t\t\tmining\n\t\t\n\t\t\tstamina\n\t\t\n\t\t\tsummonsRemaining\n\t\t\tmaxSummons\n\t\t\tsummons\n\t\t\t\n\t\t\tactive1\n\t\t\tactive2\n\t\t\tpassive1\n\t\t\tpassive2\n\t\t\tstatBoost1\n\t\t\tstatBoost2\n\t\t\tstatsUnknown1\n\t\t\tstatsUnknown2\n\t\t\telement\n\t\t\n\t\t\tstrength\n\t\t\tagility\n\t\t\tendurance\n\t\t\twisdom\n\t\t\tdexterity\n\t\t\tvitality\n\t\t\tintelligence\n\t\t\tluck\n\t  \n\t\t\tstatus\n\t\t\thpFullAt\n\t\t\tmpFullAt\n\t\t\tstatGenesRaw: statGenes\n\t\t}\n\t}"])),t),e.next=5,n.request(a);case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t);case 2:if((n=e.sent).heroes.length){e.next=5;break}return e.abrupt("return",null);case 5:return a=Object(b.decodeRecessiveGenesAndNormalize)(n.heroes)[0],q(a),a.displayId=13===a.id.length?Number(a.id.slice(1)).toString():a.id,a.summonCost=S(a),a.mutationClass=D(f(a.mainClass)),e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(e){var t=function(e){for(var t=0;t<e.length;t++)"sheer"===e[t]&&(e[t]="seer")};t(e.mainClassGenes),t(e.subClassGenes)},V=n(313),W=n(319),J=n(125),U={warrior:"Warrior",knight:"Knight",thief:"Thief",archer:"Archer",priest:"Priest",wizard:"Wizard",monk:"Monk",pirate:"Pirate",seer:"Seer",berserker:"Berserker",paladin:"Paladin",darkKnight:"DarkKnight",summoner:"Summoner",ninja:"Ninja",shapeshifter:"Shapeshifter",dragoon:"Dragoon",sage:"Sage",dreadKnight:"DreadKnight"},X=["warrior","knight","thief","archer","priest","wizard","monk","pirate","seer","berserker"],Q=["paladin","darkKnight","summoner","ninja","shapeshifter"],_=["dragoon","sage"],Y=["dreadKnight"],Z=["D","R1","R2","R3"],$=0,ee=2,te=n(0),ne={mining:"Mining",foraging:"Foraging",gardening:"Gardening",fishing:"Fishing"},ae=function(e){var t=e.className,n=e.genes,a=e.heroid,s=e.highlighted,r=e.title,i=e.type;return Object(te.jsxs)("div",{className:"hero-snapshot-genes".concat(t?" ".concat(t):""),children:[Object(te.jsx)("div",{className:"title",children:r}),n.map((function(e,t){var n=i===$?U[e]:i===ee?ne[e]:e;return n||(n=e),Object(te.jsxs)("div",{className:"gene",children:[Object(te.jsxs)("div",{className:"label",children:[Z[t],":"]}),Object(te.jsx)("div",{className:"value".concat(s&&s.includes(e)?" highlighted":""),children:n})]},"".concat(a,"-").concat(Z[t]))}))]})};ae.defaultProps={type:0};var se=ae,re=function(e){var t=e.boldIfNot,n=e.value,a="value";return t&&!n.toString().toLowerCase().includes(t)&&(a+=" highlighted"),Object(te.jsx)("div",{className:"gene",children:Object(te.jsx)("div",{className:a,children:n})})},ie=function(e){var t=e.className,n=e.genes;return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)("div",{className:"hero-snapshot-genes".concat(t?" ".concat(t):""),children:[Object(te.jsx)("div",{className:"title",children:"Active"}),Object(te.jsx)(re,{value:n.active1,boldIfNot:"basic"}),Object(te.jsx)(re,{value:n.active2,boldIfNot:"basic"})]}),Object(te.jsxs)("div",{className:"hero-snapshot-genes".concat(t?" ".concat(t):""),children:[Object(te.jsx)("div",{className:"title",children:"Passive"}),Object(te.jsx)(re,{value:n.passive1,boldIfNot:"basic"}),Object(te.jsx)(re,{value:n.passive2,boldIfNot:"basic"})]})]})};ie.defaultProps={};var ce=ie,oe=function(e){var t=e.highlights,n=e.hero;return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)("div",{className:"hero-snapshot-genes-section",children:[Object(te.jsx)(se,{genes:n.mainClassGenes,heroid:n.id,title:"Class",highlighted:t.mainClass}),Object(te.jsx)(se,{genes:n.subClassGenes,heroid:n.id,title:"SubClass"}),Object(te.jsx)(se,{genes:n.professionGenes,heroid:n.id,title:"Profession",type:ee,highlighted:t.profession})]}),Object(te.jsx)("div",{className:"hero-snapshot-stat-genes-section",children:Object(te.jsx)(ce,{genes:n})})]})};oe.defaultProps={highlights:{}};var le=oe,ue=function(e){var t=e.children,n=e.className,a=e.title;return Object(te.jsxs)("div",{className:"hero-stat-section ".concat(n),children:[Object(te.jsx)("div",{className:"title",children:a}),Object(te.jsx)("div",{className:"stat-group",children:t})]})};ue.defaultProps={className:"hero-stat-section"};var me=ue,je=function(e){var t=e.name,n=e.value,a=e.main,s=e.minor,r="name".concat(a&&s?" main-minor":a?" main":s?" minor":"");return Object(te.jsxs)("div",{className:"hero-stat",children:[Object(te.jsx)("div",{className:r,children:t}),Object(te.jsx)("div",{className:"value",children:n})]})},de=function(e){var t=e.hero;return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)(me,{title:"Stats",children:[Object(te.jsx)(je,{name:"STR",value:t.strength,main:"STR"===t.statBoost1,minor:"STR"===t.statBoost2}),Object(te.jsx)(je,{name:"AGI",value:t.agility,main:"AGI"===t.statBoost1,minor:"AGI"===t.statBoost2}),Object(te.jsx)(je,{name:"END",value:t.endurance,main:"END"===t.statBoost1,minor:"END"===t.statBoost2}),Object(te.jsx)(je,{name:"WIS",value:t.wisdom,main:"WIS"===t.statBoost1,minor:"WIS"===t.statBoost2}),Object(te.jsx)(je,{name:"DEX",value:t.dexterity,main:"DEX"===t.statBoost1,minor:"DEX"===t.statBoost2}),Object(te.jsx)(je,{name:"VIT",value:t.vitality,main:"VIT"===t.statBoost1,minor:"VIT"===t.statBoost2}),Object(te.jsx)(je,{name:"INT",value:t.intelligence,main:"INT"===t.statBoost1,minor:"INT"===t.statBoost2}),Object(te.jsx)(je,{name:"LCK",value:t.luck,main:"LCK"===t.statBoost1,minor:"LCK"===t.statBoost2})]}),Object(te.jsxs)(me,{className:"profession-stat-section",title:"Professions",children:[Object(te.jsx)(je,{name:"Mining",value:t.mining,main:"mining"===t.profession}),Object(te.jsx)(je,{name:"Fishing",value:t.fishing,main:"fishing"===t.profession}),Object(te.jsx)(je,{name:"Gardening",value:t.gardening,main:"gardening"===t.profession}),Object(te.jsx)(je,{name:"Foraging",value:t.foraging,main:"foraging"===t.profession})]})]})},be=(n(248),["common","uncommon","rare","legendary","mythic"]),he=function(){return Object(te.jsx)("img",{src:"/jewel50.png",className:"jewel-icon",alt:"Jewel"})},ge=function(){return Object(te.jsx)("img",{src:"/crystal100.png",className:"jewel-icon",alt:"Jewel"})},ve=function(e){var t=e.label,n=e.showIcon,a=e.network,s=e.value,r=a===p.id?Object(te.jsx)(he,{}):Object(te.jsx)(ge,{});return Object(te.jsxs)("div",{className:"price-group",children:[Object(te.jsxs)("div",{className:"price-value",children:[s,n&&r]}),Object(te.jsx)("div",{className:"price-label",children:t})]})},fe=function(e){var t=e.highlights,n=e.hero,a=e.title,s=e.view,r="Gen ".concat(n.generation," | ").concat(J.Rarity[n.rarity]," | Level ").concat(n.level),i="".concat(v(n.mainClass)," / ").concat(v(n.subClass)," | ").concat(v(n.profession)),c=n.originRealm===O.id?Object(te.jsx)(he,{}):Object(te.jsx)(ge,{});return Object(te.jsxs)("div",{className:"hero-snapshot ".concat(be[n.rarity]),children:[Object(te.jsx)("div",{className:"hero-snapshot-title",children:a}),Object(te.jsxs)("div",{className:"hero-snapshot-name",children:["Hero ",c," #",n.displayId]}),Object(te.jsx)("div",{className:"hero-snapshot-grc",children:r}),Object(te.jsx)("div",{className:"hero-snapshot-grc",children:i}),"front"===s&&Object(te.jsx)(de,{hero:n}),"back"===s&&Object(te.jsx)(le,{hero:n,highlights:t}),Object(te.jsxs)("div",{className:"hero-snapshot-pricing",children:[n.price&&Object(te.jsx)(ve,{label:Object(te.jsxs)(te.Fragment,{children:["".concat("sale"===n.auctionType?"Purchase":"Rental"),Object(te.jsx)("br",{}),"Price"]}),value:n.price,showIcon:!0,network:n.network}),Object(te.jsx)(ve,{label:Object(te.jsxs)(te.Fragment,{children:["Summon",Object(te.jsx)("br",{}),"Cost"]}),value:n.summonCost,showIcon:!0,network:n.network}),"assisting"===n.auctionType&&Object(te.jsx)(ve,{label:Object(te.jsxs)(te.Fragment,{children:["Total",Object(te.jsx)("br",{}),"Cost"]}),value:Number(n.price)+Number(n.summonCost),showIcon:!0,network:n.network}),Object(te.jsx)(ve,{label:0===n.generation?Object(te.jsxs)(te.Fragment,{children:["Total",Object(te.jsx)("br",{}),"Summons"]}):Object(te.jsxs)(te.Fragment,{children:["Summons",Object(te.jsx)("br",{}),"Remaining"]}),value:"".concat(11===n.maxSummons?n.summons:n.summonsRemaining,"/").concat(11===n.maxSummons?"\u221e":n.maxSummons)})]}),Object(te.jsxs)("div",{className:"hero-snapshot-owner",children:["Owned by: ",n.owner?n.owner.name:"UNAVAILABLE"]})]})};fe.defaultProps={view:"front"};var Oe=fe,xe=Oe,pe=n(316),Ce=n(317),Ne=n(315),we=n(311),ye=n(322),Se=n(312),ke=(n(249),function(e){var t=e.onFiltersChange,n=e.onSortByChange,a=e.onViewToggled,s=e.visible,i=Object(r.useState)("probability"),c=Object(m.a)(i,2),o=c[0],l=c[1],u=Object(r.useState)(""),j=Object(m.a)(u,2),d=j[0],b=j[1],h=Object(r.useState)(""),g=Object(m.a)(h,2),v=g[0],f=g[1],O=Object(r.useState)("0"),x=Object(m.a)(O,2),p=x[0],C=x[1],N=Object(r.useState)("14"),w=Object(m.a)(N,2),y=w[0],S=w[1],k=Object(r.useState)(!1),G=Object(m.a)(k,2),P=G[0],T=G[1],B=Object(r.useState)(!1),R=Object(m.a)(B,2),I=R[0],F=R[1],M=Object(r.useState)(!1),A=Object(m.a)(M,2),L=A[0],E=A[1],K=Object(r.useState)(!1),D=Object(m.a)(K,2),H=D[0],z=D[1],q=function(e){var n=e.target,a=d,s=v,r=p,i=y,c=P,o=I,l=L,u=H;switch(n.name){case"summonsRemaining":a=n.value,b(n.value);break;case"maxSummons":s=n.value,f(n.value);break;case"minGen":r=n.value,C(n.value);break;case"maxGen":i=n.value,S(n.value);break;case"classMatch":c=n.checked,T(c),console.log("class set to ".concat(c));break;case"subclassMatch":o=n.checked,F(o);break;case"professionMatch":l=n.checked,E(l);break;case"includeSummonClass":u=n.checked,z(u);break;default:console.log("unknown search filter selected")}console.log("".concat(n.name," set to ").concat(n.value)),t({summonsRemaining:a,maxSummons:s,minGen:r,maxGen:i,classMatch:c,subclassMatch:o,professionMatch:l,includeSummonClass:u})};return s?Object(te.jsxs)(Ce.a,{container:!0,className:"sort-filter",justifyContent:"center",children:[Object(te.jsxs)(Ce.a,{item:!0,className:"section",children:[Object(te.jsx)(ye.a,{defaultChecked:!1,onChange:function(e){a(e.target.checked)}}),"Flip Cards"]}),Object(te.jsxs)(Ce.a,{item:!0,className:"section",children:[Object(te.jsx)("div",{className:"sort-label",children:"Sort By:"}),Object(te.jsx)("div",{className:"sort-value",children:Object(te.jsxs)(we.a,{label:"Sort by",name:"sort-by",className:"sort-by-selecter",value:o,variant:"standard",onChange:function(e){var t=e.target;l(t.value),n(t.value)},children:[Object(te.jsx)(Ne.a,{value:"probability",children:"Probability"},"probability"),Object(te.jsx)(Ne.a,{value:"price",children:"Price"},"price")]})})]}),Object(te.jsxs)(Ce.a,{item:!0,className:"section",children:[Object(te.jsx)("div",{className:"filter-label",children:"Filters:"}),Object(te.jsxs)("div",{className:"filter-selections",children:["Summons",Object(te.jsxs)("div",{className:"filter-selecters",children:[Object(te.jsxs)("div",{className:"filter-selecter",children:["Remaining",Object(te.jsx)(Se.a,{name:"summonsRemaining",value:d,variant:"standard",onChange:q,type:"number"})]}),Object(te.jsxs)("div",{className:"filter-selecter",children:["Max",Object(te.jsx)(Se.a,{name:"maxSummons",value:v,variant:"standard",onChange:q,type:"number"})]})]})]}),Object(te.jsxs)("div",{className:"filter-selections",children:["Generation",Object(te.jsxs)("div",{className:"filter-selecters",children:[Object(te.jsxs)("div",{className:"filter-selecter",children:["Min",Object(te.jsx)(Se.a,{name:"minGen",value:p,variant:"standard",onChange:q,type:"number"})]}),Object(te.jsxs)("div",{className:"filter-selecter",children:["Max",Object(te.jsx)(Se.a,{name:"maxGen",value:y,variant:"standard",onChange:q,type:"number"})]})]})]}),Object(te.jsxs)("div",{className:"gene-match",children:[Object(te.jsx)("div",{className:"heading",children:"D/R1 Gene Match"}),Object(te.jsxs)("div",{className:"options",children:[Object(te.jsxs)("div",{className:"option",children:[Object(te.jsx)(pe.a,{name:"classMatch",value:P,onChange:q,className:"gene-checkbox"}),Object(te.jsx)("div",{className:"label",children:"Class"})]}),Object(te.jsxs)("div",{className:"option",children:[Object(te.jsx)(pe.a,{name:"subclassMatch",value:I,onChange:q,className:"gene-checkbox"}),Object(te.jsx)("div",{className:"label",children:"Subclass"})]}),Object(te.jsxs)("div",{className:"option",children:[Object(te.jsx)(pe.a,{name:"professionMatch",value:L,onChange:q,className:"gene-checkbox"}),Object(te.jsx)("div",{className:"label",children:"Profession"})]})]})]}),Object(te.jsxs)("div",{className:"include-summon-class",children:[Object(te.jsx)("div",{children:"Include Summon Class"}),Object(te.jsx)(pe.a,{name:"includeSummonClass",value:H,onChange:q})]})]})]}):null});ke.defaultProps={onFiltersChange:function(){},onSortByChange:function(){},onViewToggled:function(){},visible:!1};var Ge=ke,Pe=n(320),Te=n(323),Be=n(127),Re=n.n(Be),Ie=(n(253),function(){return Object(te.jsx)("img",{src:"/jewel50.png",className:"jewel-icon",alt:"Jewel"})}),Fe=function(){return Object(te.jsx)("img",{src:"/crystal100.png",className:"jewel-icon",alt:"Jewel"})},Me=[{label:"Serendale",value:p.id},{label:"Crystalvale",value:C.id}],Ae=function(e){return e.map((function(e){var t="string"===typeof e?e:e.label,n="string"===typeof e?e:e.value;return Object(te.jsx)(Ne.a,{value:n,children:t},n)}))},Le=Ae([{label:"sale",value:"sale"},{label:"rent",value:"assisting"}]),Ee=Ae(Me),Ke=Ae([{label:"any profession",value:"all"}].concat(Object(k.a)(["mining","gardening","foraging","fishing"]))),De=function(e){var t=e.defaultSummonClass,n=e.isHeroLoaded,a=e.onHeroChange,s=e.onSubmit,i=(e.onToggle,Object(r.useState)("")),c=Object(m.a)(i,2),o=c[0],l=c[1],u=Object(r.useState)("all"),j=Object(m.a)(u,2),d=j[0],b=j[1],h=Object(r.useState)("assisting"),g=Object(m.a)(h,2),v=g[0],f=g[1],C=Object(r.useState)(p.id),N=Object(m.a)(C,2),w=N[0],y=N[1],S=Object(r.useState)(O.id),G=Object(m.a)(S,2),P=G[0],T=G[1],B=Object(r.useState)(""),R=Object(m.a)(B,2),I=R[0],F=R[1],M=Object(r.useState)([]),A=Object(m.a)(M,2),L=A[0],E=A[1];Object(r.useEffect)((function(){var e=X.sort().map((function(e){return Object(te.jsx)(Ne.a,{value:e,children:U[e]},e)})),t=Q.sort().map((function(e){return Object(te.jsx)(Ne.a,{value:e,children:U[e]},e)})),n=_.sort().map((function(e){return Object(te.jsx)(Ne.a,{value:e,children:U[e]},e)})),a=Y.sort().map((function(e){return Object(te.jsx)(Ne.a,{value:e,children:U[e]},e)})),s=[Object(te.jsx)(Te.a,{children:"Basic Classes"},"basic")].concat(Object(k.a)(e),[Object(te.jsx)(Te.a,{children:"Advanced Classes"},"advanced")],Object(k.a)(t),[Object(te.jsx)(Te.a,{children:"Elite Classes"},"elite")],Object(k.a)(n),[Object(te.jsx)(Te.a,{children:"Exalted Classes"},"exalted")],Object(k.a)(a));E(s)}),[]),Object(r.useEffect)((function(){t&&l(t)}),[t]);var K=function(e){var t=e.target;a&&a(t.value,P)},D=n&&o;return Object(te.jsxs)(Ce.a,{container:!0,className:"search-form-simple",justifyContent:"center",spacing:0,children:[Object(te.jsxs)(Ce.a,{item:!0,children:["Find me heroes for",Object(te.jsx)(we.a,{label:"Auction Type",name:"auction-type",className:"auction-type-selecter",value:v,variant:"standard",onChange:function(e){var t=e.target;f(t.value)},children:Le})]}),Object(te.jsxs)(Ce.a,{item:!0,children:["in the",Object(te.jsx)(we.a,{name:"network",className:"network-selecter",value:w,variant:"standard",onChange:function(e){var t=e.target;y(t.value)},children:Ee}),"tavern,"]}),Object(te.jsxs)(Ce.a,{item:!0,className:"hero-container",children:["who can match with hero",Object(te.jsxs)(we.a,{className:"origin-realm-selecter",name:"origin-realm",value:P,variant:"standard",onChange:function(e){var t=e.target;T(t.value),I&&a&&a(I,t.value)},children:[Object(te.jsx)(Ne.a,{value:O.id,children:Object(te.jsx)(Ie,{})}),Object(te.jsx)(Ne.a,{value:x.id,children:Object(te.jsx)(Fe,{})})]}),"#",Object(te.jsx)(Se.a,{className:"hero-id-selecter",placeholder:"hero id",name:"hero-id",value:I,variant:"standard",onChange:function(e){F(e.target.value)},onBlur:K,onKeyPress:function(e){"Enter"===e.key&&K(e)}})]}),Object(te.jsxs)(Ce.a,{item:!0,children:["to summon a",Object(te.jsx)(we.a,{label:"Class to be summoned",name:"summoned-class",className:"summoned-class-selecter",value:o,variant:"standard",onChange:function(e){var t=e.target;l(t.value)},children:L})]}),Object(te.jsxs)(Ce.a,{item:!0,children:["for",Object(te.jsx)(we.a,{label:"Profession to be summoned",name:"summoned-profession",className:"summoned-profession-selecter",value:d,variant:"standard",onChange:function(e){var t=e.target;b(t.value)},children:Ke})]}),Object(te.jsx)(Ce.a,{item:!0,children:Object(te.jsx)(Pe.a,{variant:"contained",onClick:function(){s&&s({auctionType:v,heroId:I,network:w,originRealm:P,summonClass:o,summonProfession:"all"===d?"":d})},disabled:!D,children:Object(te.jsx)(Re.a,{})})})]})};De.defaultProps={defaultSummonClass:"",isHeroLoaded:!1,onToggle:function(){}};var He=De,ze=function(e){var t=e.highlights,n=e.heroes,a=e.view,s=function(e){return"".concat((100*e.targetProbability).toFixed(2),"% probability")};return n.length?n.map((function(e){return Object(te.jsx)(Oe,{hero:e,title:s(e),view:a,highlights:t},e.id)})):null},qe=(n(256),["Now there is an interesting fellow.","Oh, the Tavern has Perch Porter on draft.","Chatting with Agent Selina.  She is such a sweetheart!","Are those wings on her back, or she just harpy to see me?","Woah, big guy!  Careful with those horns!"]),Ve=function(e){var t=e.hero,n=e.view;return t?Object(te.jsx)("div",{className:"main-hero",children:Object(te.jsx)(xe,{hero:t,title:"Main Hero",view:n})}):null},We=function(e){var t=e.heroCount,n=e.loaded,a=e.loading,s=e.message,r=a?s:n&&!t?"No Heroes Found":null;return r?Object(te.jsx)(V.a,{variant:"outlined",severity:"success",className:"loading-message",children:r}):null},Je=function(){var e=Object(r.useState)(!1),t=Object(m.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(!1),i=Object(m.a)(s,2),c=i[0],o=i[1],j=Object(r.useState)(""),h=Object(m.a)(j,2),g=h[0],x=h[1],p=Object(r.useState)("simple"),C=Object(m.a)(p,2),N=C[0],y=C[1],k=Object(r.useState)("probability"),G=Object(m.a)(k,2),P=G[0],T=G[1],B=Object(r.useState)({}),R=Object(m.a)(B,2),I=R[0],F=R[1],M=Object(r.useState)(""),A=Object(m.a)(M,2),L=A[0],D=A[1],H=Object(r.useState)(),V=Object(m.a)(H,2),J=V[0],U=V[1],X=Object(r.useState)([]),Q=Object(m.a)(X,2),_=Q[0],Y=Q[1],Z=Object(r.useState)("back"),$=Object(m.a)(Z,2),ee=$[0],ne=$[1],ae=Object(r.useState)(),se=Object(m.a)(ae,2),re=se[0],ie=se[1],ce=function(e){return new Promise((function(t){return setTimeout(t,e)}))},oe=function(){var e=Math.floor(Math.random()*qe.length);x(qe[e])},le=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t,n){var s,r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s=n===O.id?t:"".concat("1000000000000".slice(0,13-t.length)).concat(t))||J&&J.id===s){e.next=10;break}return Y([]),U(),D(""),x(""),e.next=8,z(s);case 8:(r=e.sent)?(U(r),D(r.mutationClass)):(x("Hero not found."),a(!0));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ue=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n,s,r,i,c,u,m,j,h,g,v,O;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y([]),a(!0),oe(),n=[],s=50,r=0,i=!1,c=K(f(J.mainClass),t.summonClass),ie({mainClass:c,profession:[t.summonProfession]});case 9:if(i){e.next=28;break}return e.next=12,w(t.auctionType,t.network,c,t.summonProfession,s,r);case 12:for(u=e.sent,m=Object(b.decodeRecessiveGenesAndNormalize)(u.heroes),j=0;j<m.length;j++)h=m[j],q(h),h.displayId=13===h.id.length?Number(h.id.slice(1)).toString():h.id,h.auctionType=t.auctionType,h.summonCost=S(h),h.price=(l=h.price,Number(l)/1e18),g=E(J.mainClassGenes,h.mainClassGenes,t.summonClass),t.summonProfession?(v=E(J.professionGenes,h.professionGenes,t.summonProfession),h.targetProbability=g&&v?g.value*v.value:0):h.targetProbability=g?g.value:0;return O=m.filter((function(e){return e.targetProbability>0})),console.log("".concat(n.length," existing heroes")),console.log("adding ".concat(O.length," new heroes")),n=d()(n,O,"id"),console.log("now ".concat(n.length," total heroes")),Y(n),oe(),r+=s,i=0===u.length,e.next=26,ce(1e3);case 26:e.next=9;break;case 28:a(!1),o(!0);case 30:case"end":return e.stop()}var l}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(e,t,n,a){var s=e;if(!e.length)return s;var r=v(a);return s=s.filter((function(e){var n=!t.summonsRemaining||Number(e.summonsRemaining)>=Number(t.summonsRemaining),a=!t.maxSummons||Number(e.maxSummons)>=Number(t.maxSummons),s=!t.minGen||""===t.minGen||Number(e.generation)>=Number(t.minGen),i=!t.maxGen||""===t.maxGen||Number(e.generation)<=Number(t.maxGen),c=t.includeSummonClass||e.mainClass!==r,o=!t.classMatch||e.mainClassGenes[0]===e.mainClassGenes[1],l=!t.subclassMatch||e.subClassGenes[0]===e.subClassGenes[1],u=!t.professionMatch||e.professionGenes[0]===e.professionGenes[1];return a&&n&&s&&i&&c&&o&&l&&u})),"probability"===n?s.sort((function(e,t){return e.targetProbability>t.targetProbability?-1:e.targetProbability<t.targetProbability?1:0})):s.sort((function(e,t){if("price"===n){var a=e.price+("sale"===e.auctionType?0:e.summonCost),s=t.price+("sale"===t.auctionType?0:t.summonCost);return a>s?1:a<s?-1:0}return 0}))}(_,I,P,L);return Object(te.jsxs)(W.a,{maxWidth:"xl",children:[Object(te.jsx)(He,{defaultSummonClass:L,isHeroLoaded:!!J,onHeroChange:le,onToggle:function(){y("simple"===N?"advanced":"simple")},onSubmit:ue}),Object(te.jsx)(Ge,{onFiltersChange:function(e){F(e)},onSortByChange:function(e){T(e)},onViewToggled:function(e){ne(e?"front":"back")},visible:!!J}),Object(te.jsx)(We,{heroCount:_.length,loading:n,loaded:c,message:g}),Object(te.jsxs)("div",{className:"hero-list",children:[Object(te.jsx)(Ve,{hero:J,view:ee}),Object(te.jsx)(ze,{heroes:me,view:ee,highlights:re})]})]})},Ue=Je;n(257);var Xe=function(){return Object(te.jsxs)("div",{className:"App",children:[Object(te.jsx)("header",{className:"App-header"}),Object(te.jsx)("main",{className:"App-main",children:Object(te.jsx)(Ue,{})})]})},Qe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,327)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),r(e),i(e)}))};o.a.render(Object(te.jsx)(i.a.StrictMode,{children:Object(te.jsx)(Xe,{})}),document.getElementById("root")),Qe()}},[[258,1,2]]]);
//# sourceMappingURL=main.821e1faa.chunk.js.map