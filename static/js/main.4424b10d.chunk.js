(this["webpackJsonphero-analyzer"]=this["webpackJsonphero-analyzer"]||[]).push([[0],{149:function(e,n,t){},194:function(e,n){},220:function(e,n,t){},227:function(e,n,t){},228:function(e,n,t){},229:function(e,n,t){},231:function(e,n,t){"use strict";t.r(n);var a,s=t(1),r=t.n(s),i=t(42),o=t.n(i),c=(t(149),t(22)),l=t(72),u=t(15),d=t(4),m=t.n(d),j=t(47),h=t(97),b=function(){var e=Object(l.a)(m.a.mark((function e(){var n,t,s,r,i,o,c=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:50,t=c.length>1&&void 0!==c[1]?c[1]:0,s="https://defi-kingdoms-community-api-gateway-co06z8vi.uc.gateway.dev/graphql",r=new h.GraphQLClient(s,{headers:{"Content-Type":"application/json"}}),i=Object(h.gql)(a||(a=Object(j.a)(["\n\t{\n        saleAuctions(\n          orderBy: startedAt\n          orderDirection: desc\n          first: ","\n          skip: ","\n          where:{\n            open: true\n          }\n        )\n        {\n          id\n          startingPrice\n          endingPrice\n          open\n          tokenId{\n            id\n            numberId\n          }\n        }\n      }"])),n,t),e.next=7,r.request(i);case 7:return o=e.sent,e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=b,g=t(53),f=t(93),O=[.75,.1875,.046875,.015625],x={basic:.25,advanced:.25,elite:.125,exalted:.125},p=[{classes:["warrior","knight"],mutation:"paladin"},{classes:["thief","archer"],mutation:"darkKnight"},{classes:["priest","wizard"],mutation:"summoner"},{classes:["monk","pirate"],mutation:"ninja"},{classes:["paladin","darkKnight"],mutation:"dragoon"},{classes:["summoner","ninja"],mutation:"sage"},{classes:["dragoon","sage"],mutation:"dreadKnight"}],N=function(e){return e.map((function(e,n){return{name:e,value:O[n]}}))},S=function(e){return e.reduce((function(e,n,t){var a=e.find((function(e){return e.name===n.name}));return a?(a.value+=n.value,e):[].concat(Object(c.a)(e),[n])}),[])},C=function(e,n){var t=y(e.name,n.name);if(t){var a=x[Object(f.getHeroTier)(e.name)];return{name:t.mutation,value:e.value*n.value*a}}return null},y=function(e,n){return p.find((function(t){return e!==n&&t.classes.includes(e)&&t.classes.includes(n)}))},I=function(e){return e.forEach((function(e){return e.value=e.value/2}))},w=function(e,n){var t={hero1:N(e),hero2:N(n)};return t.mutations=function(e,n){for(var t=[],a=0;a<4;a++){var s=C(e[a],n[a]);s&&(t.push(s),e[a].value-=s.value,n[a].value-=s.value)}return S(t)}(t.hero1,t.hero2),I(t.hero1),I(t.hero2),function(e){return S(e.hero1.concat(e.hero2,e.mutations)).sort((function(e,n){return e.value>n.value?-1:e.value<n.value?1:0}))}(t)},B=function(e,n,t){return w(e.mainClassGenes,n.mainClassGenes).find((function(e){return e.name===t}))},T=t(280),k=t(278),A=t(275),P=t(276),E=t(130),F=t.n(E),G=(t(220),t(5)),H=function(e){var n=e.onHeroChange,t=e.onSubmit,a=Object(s.useState)("warrior"),r=Object(u.a)(a,2),i=r[0],o=r[1],c=Object(s.useState)("95734"),l=Object(u.a)(c,2),d=l[0],m=l[1],j=Object.keys(g.CONSTANTS.CLASS_REV).sort().map((function(e){return Object(G.jsx)(k.a,{value:e,children:g.CONSTANTS.CLASS_REV[e]},e)}));return Object(G.jsxs)("div",{className:"SummonsMatchSearchForm",children:["Find me heroes who could match with hero",Object(G.jsx)("div",{className:"hero-id-selecter",children:Object(G.jsx)(P.a,{label:"Hero ID",name:"hero-id",value:d,variant:"standard",onChange:function(e){var n=e.target;console.log("Selected Hero Id changed"),m(n.value)},onBlur:function(e){var t=e.target;console.log("Selected Hero Id blur"),n&&n(t.value)}})}),"to summon a",Object(G.jsx)(A.a,{label:"Class to be summoned",name:"summoned-class",className:"summoned-class-selecter",value:i,variant:"standard",onChange:function(e){var n=e.target;console.log("Selected Summon Class changed"),o(n.value)},children:j}),Object(G.jsx)(T.a,{variant:"contained",onClick:function(e){t&&t({heroId:d,summonClass:i})},children:Object(G.jsx)(F.a,{})})]})},R=t(29),L=function(e){var n=e.children,t=e.className,a=e.title;return Object(G.jsxs)("div",{className:"hero-stat-section ".concat(t),children:[Object(G.jsx)("div",{className:"title",children:a}),Object(G.jsx)("div",{className:"stat-group",children:n})]})};L.defaultProps={className:"hero-stat-section"};var D=L,V=["D","R1","R2","R3"],K=0,M=2,_={mining:"Mining",foraging:"Foraging",gardening:"Gardening",fishing:"Fishing"},z=function(e){var n=e.className,t=e.genes,a=e.heroid,s=e.title,r=e.type;return Object(G.jsxs)("div",{className:"hero-snapshot-genes ".concat(n),children:[Object(G.jsx)("div",{className:"title",children:s}),t.map((function(e,n){var t=r===K?R.CLASS_REV[e]:r===M?_[e]:e;return t||(t=e),Object(G.jsxs)("div",{className:"gene",children:[Object(G.jsxs)("div",{className:"label",children:[V[n],":"]}),Object(G.jsx)("div",{className:"value",children:t})]},"".concat(a,"-").concat(V[n]))}))]})};z.defaultProps={type:0};var q=z,J=function(e){var n=e.name,t=e.value,a=e.main,s=e.minor,r="name".concat(a&&s?" main-minor":a?" main":s?" minor":"");return Object(G.jsxs)("div",{className:"hero-stat",children:[Object(G.jsx)("div",{className:r,children:n}),Object(G.jsx)("div",{className:"value",children:t})]})},W=(t(227),["common","uncommon","rare","legendary","mythic"]),X=function(e){var n=e.hero,t=e.title;return Object(G.jsxs)("div",{className:"hero-snapshot ".concat(W[n.rarity]),children:[Object(G.jsx)("div",{className:"hero-snapshot-title",children:t}),Object(G.jsxs)("div",{className:"hero-snapshot-name",children:[n.name?n.name:"Main Hero"," (#",n.id,")"]}),Object(G.jsxs)("div",{className:"hero-snapshot-grc",children:["Gen",n.generation," | ",R.Rarity[n.rarity]," | ",R.CLASS_REV[n.mainClass],"/",R.CLASS_REV[n.subClass]]}),Object(G.jsxs)("div",{className:"hero-snapshot-owner",children:["Owned by: ",n.ownerName]}),Object(G.jsxs)("div",{className:"hero-snapshot-genes-section",children:[Object(G.jsx)(q,{genes:n.mainClassGenes,heroid:n.id,title:"Class"}),Object(G.jsx)(q,{genes:n.subClassGenes,heroid:n.id,title:"SubClass"}),Object(G.jsx)(q,{genes:n.professionGenes,heroid:n.id,title:"Profession",type:2})]}),Object(G.jsxs)(D,{title:"Stats",children:[Object(G.jsx)(J,{name:"STR",value:n.strength,main:"STR"===n.statBoost1,minor:"STR"===n.statBoost2}),Object(G.jsx)(J,{name:"DEX",value:n.dexterity,main:"DEX"===n.statBoost1,minor:"DEX"===n.statBoost2}),Object(G.jsx)(J,{name:"AGI",value:n.agility,main:"AGI"===n.statBoost1,minor:"AGI"===n.statBoost2}),Object(G.jsx)(J,{name:"VIT",value:n.vitality,main:"VIT"===n.statBoost1,minor:"VIT"===n.statBoost2}),Object(G.jsx)(J,{name:"END",value:n.endurance,main:"END"===n.statBoost1,minor:"END"===n.statBoost2}),Object(G.jsx)(J,{name:"INT",value:n.intelligence,main:"INT"===n.statBoost1,minor:"INT"===n.statBoost2}),Object(G.jsx)(J,{name:"WIS",value:n.wisdom,main:"WIS"===n.statBoost1,minor:"WIS"===n.statBoost2}),Object(G.jsx)(J,{name:"LCK",value:n.luck,main:"LCK"===n.statBoost1,minor:"LCK"===n.statBoost2})]}),Object(G.jsxs)(D,{className:"profession-stat-section",title:"Professions",children:[Object(G.jsx)(J,{name:"Mining",value:n.mining,main:"mining"===n.profession}),Object(G.jsx)(J,{name:"Gardening",value:n.gardening,main:"gardening"===n.profession}),Object(G.jsx)(J,{name:"Fishing",value:n.fishing,main:"fishing"===n.profession}),Object(G.jsx)(J,{name:"Foraging",value:n.foraging,main:"foraging"===n.profession})]})]})},Q=function(e){var n=e.loaded,t=e.loading,a=e.heroes,s=function(e){return"".concat((100*e.targetProbability.value).toFixed(2),"% probability")};return Object(G.jsxs)(G.Fragment,{children:[t&&Object(G.jsx)("div",{children:"Heading on over to the tavern."}),n&&!t&&a.map((function(e){return Object(G.jsx)(X,{hero:e,title:s(e)},e.id)}))]})},U=(t(228),function(){var e=Object(s.useState)(!1),n=Object(u.a)(e,2),t=n[0],a=n[1],r=Object(s.useState)(!1),i=Object(u.a)(r,2),o=i[0],d=i[1],j=Object(s.useState)(),h=Object(u.a)(j,2),b=h[0],f=h[1],O=Object(s.useState)([]),x=Object(u.a)(O,2),p=x[0],N=x[1],S=function(){var e=Object(l.a)(m.a.mark((function e(n){var t,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(JSON.stringify(n)),N([]),d(!0),e.next=5,v();case 5:t=e.sent,s=t.saleAuctions.map((function(e){return e.tokenId.numberId})),Object(g.getHeroesChain)([n.heroId].concat(Object(c.a)(s))).then((function(e){for(var t=e[0],s=1;s<e.length;s++){var r=e[s];r.targetProbability=B(t,r,n.summonClass)}var i=e.filter((function(e){return e.targetProbability})).sort((function(e,n){return e.targetProbability.value>n.targetProbability.value?-1:e.targetProbability.value<n.targetProbability.value?1:0}));f(t),N(i.slice(1)),d(!1),a(!0)}));case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(H,{onHeroChange:function(e){console.log("New Hero Selected: ".concat(e)),e&&(f(),Object(g.getHeroesChain)([e]).then((function(e){f(e[0])})))},onSubmit:S}),Object(G.jsxs)("div",{className:"hero-list",children:[b&&Object(G.jsx)("div",{className:"main-hero",children:Object(G.jsx)(X,{hero:b,title:"Main Hero"})}),Object(G.jsx)(Q,{loaded:t,loading:o,heroes:p})]})]})}),Y=U;t(229);var Z=function(){return Object(G.jsx)("div",{className:"App",children:Object(G.jsx)("header",{className:"App-header",children:Object(G.jsx)(Y,{})})})},$=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,284)).then((function(n){var t=n.getCLS,a=n.getFID,s=n.getFCP,r=n.getLCP,i=n.getTTFB;t(e),a(e),s(e),r(e),i(e)}))};o.a.render(Object(G.jsx)(r.a.StrictMode,{children:Object(G.jsx)(Z,{})}),document.getElementById("root")),$()}},[[231,1,2]]]);
//# sourceMappingURL=main.4424b10d.chunk.js.map